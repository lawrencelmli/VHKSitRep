runApp()
flow_nrc[8, 1] <- "22 Red"
flow_nrc[12, 1] <- "34 Red"
redzones <- c("AU1", "22 Red", "34 Red", "41", "43", "51", "53")
flow_nrc <- flow_nrc %>%
mutate("Red_Zone" = ifelse(Ward %in% redzones, T, F))
colnames(flow_nrc) <- c("Ward", "Compliment", "Empty", "Electives", "DC_Expected", "DC_Achieved")
flow_nrc[8, 1] <- "22 Red"
flow_nrc[12, 1] <- "34 Red"
redzones <- c("AU1", "22 Red", "34 Red", "41", "43", "51", "53")
flow_nrc <- flow_nrc %>%
mutate("Red_Zone" = ifelse(Ward %in% redzones, T, F))
runApp()
runApp()
?column_spec
runApp()
runApp()
runApp()
nrc_red <- nrc_red[nrc_red$RedZone == T, ] %>%
select("Ward" = Ward,
"Bed Compliment" = Compliment,
"Empty Beds" = Empty,
"Electives" = Electives,
"Discharges Expected" = DC_Expected,
"Discharges Achieved" = DC_Achieved
)
nrc_red <- nrc_red[nrc_red$RedZone == T, ] %>%
select("Ward" = Ward,
"Bed Compliment" = Compliment,
"Empty Beds" = Empty,
"Electives" = Electives,
"Discharges Expected" = DC_Expected,
"Discharges Achieved" = DC_Achieved
)
nrc_red <- nrc_flow[nrc_flow$Red_Zone == T, ] %>%
select("Ward" = Ward,
"Bed Compliment" = Compliment,
"Empty Beds" = Empty,
"Electives" = Electives,
"Discharges Expected" = DC_Expected,
"Discharges Achieved" = DC_Achieved
)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
?if_else()
runApp()
runApp()
runApp()
runApp()
source('~/.active-rstudio-document')
flow_red <- flow_nrc %>%
filter(RedZone == T) %>%
as.numeric(Empty)
flow_red <- flow_nrc %>%
filter(RedZone == T) %>%
as.numeric(flow_red$Empty)
as.numeric(flow_red$Empty)
flow_red <- flow_nrc %>%
filter(RedZone == T)
as.numeric(flow_red$Empty)
flow_red$Empty <- as.numeric(flow_red$Empty)
flow_nrc$Empty
flow_nrc$Empty <- as.numeric(flow_nrc$Empty)
total_red <- c("Red Total",
colSums(flow_red[, 2]),
colSums(flow_red[, 3]),
colSums(flow_red[, 4]),
colSums(flow_red[, 5]),
colSums(flow_red[, 6])
)
flow_red <- rbind(flow_red, total_red)
View(flow_red)
runApp()
runApp()
runApp()
runApp()
runApp()
flow_red[1, 3] > 5
class(flow_red[1, 3] > 5)
summarise(flow_red[1,3])
summary(flow_red[1,3])
flow_red$Empty <- as.numeric(flow_red$Empty)
flow_red[1, 3] > 5
flow_red[8, 3] > 5
nrc_red <- nrc_red %>%
mutate(Empty = cell_spec(Empty, "html", color = if_else(Empty < 5, "#c64040", "#56b34b", "black"))) %>%      select("Ward" = Ward,
"Bed Compliment" = Compliment,
"Empty Beds" = Empty,
"Electives" = Electives,
"Discharges Expected" = DC_Expected,
"Discharges Achieved" = DC_Achieved
)
nrc_red <- nrc_red %>%
mutate(Empty = cell_spec(Empty, "html", color = if_else(Empty < 5, "#c64040", "#56b34b", "black"))) %>%      select("Ward" = Ward,
"Bed Compliment" = Compliment,
"Empty Beds" = Empty,
"Electives" = Electives,
"Discharges Expected" = DC_Expected,
"Discharges Achieved" = DC_Achieved
)
runApp()
runApp()
View(flow_red)
View(flow_red)
summarise(flow_red)
summary(flow_red)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
sum_flow <- rbind(red_total, green_total)
runApp()
df <- flow_nrc
flow_red <- df %>%
filter(RedZone == T) %>%
select(-7)
red_total <- c("Red Total",
colSums(flow_red[, 2]),
colSums(flow_red[, 3]),
colSums(flow_red[, 4]),
colSums(flow_red[, 5]),
colSums(flow_red[, 6])
)
flow_green <- df %>%
filter(RedZone == F) %>%
select(-7)
green_total <- c("Green Total",
colSums(flow_green[, 2]),
colSums(flow_green[, 3]),
colSums(flow_green[, 4]),
colSums(flow_green[, 5]),
colSums(flow_green[, 6])
)
sum_flow <- rbind(red_total, green_total)
total_both <- c("Sum Total",
colSums(sum_flow[, 2]),
colSums(sum_flow[, 3]),
colSums(sum_flow[, 4]),
colSums(sum_flow[, 5]),
colSums(sum_flow[, 6])
)
View(sum_flow)
green_total <- c("Green Total",
colSums(flow_green[, 2], na.rm = T),
colSums(flow_green[, 3], na.rm = T),
colSums(flow_green[, 4], na.rm = T),
colSums(flow_green[, 5], na.rm = T),
colSums(flow_green[, 6], na.rm = T)
)
sum_flow <- rbind(red_total, green_total)
total_both <- c("Sum Total",
colSums(sum_flow[, 2]),
colSums(sum_flow[, 3]),
colSums(sum_flow[, 4]),
colSums(sum_flow[, 5]),
colSums(sum_flow[, 6])
)
rownames(sum_flow) <- NULL
View(sum_flow)
total_both <- c("Sum Total",
colSums(sum_flow[, 2]),
colSums(sum_flow[, 3]),
colSums(sum_flow[, 4]),
colSums(sum_flow[, 5]),
colSums(sum_flow[, 6])
)
class(total_both)
class(sum_flow)
sum_flow <- as.data.frame(rbind(red_total, green_total))
total_both <- c("Sum Total",
colSums(sum_flow[, 2]),
colSums(sum_flow[, 3]),
colSums(sum_flow[, 4]),
colSums(sum_flow[, 5]),
colSums(sum_flow[, 6])
)
colSums(sum_flow)
colSums(sum_flow[, 2])
colSums(sum_flow[, 3])
?rbind
sum_flow <- as.data.frame(rbind(red_total, green_total, stringAsFactors = F))
total_both <- c("Sum Total",
colSums(sum_flow[, 2]),
colSums(sum_flow[, 3]),
colSums(sum_flow[, 4]),
colSums(sum_flow[, 5]),
colSums(sum_flow[, 6])
)
colSums
colSums(flow_green)
colSums(flow_green[, -1])
colSums(flow_green[, -1], na.rm = T)
green_total <- as.data.frame(c("Green Total",
colSums(flow_green[, 2], na.rm = T),
colSums(flow_green[, 3], na.rm = T),
colSums(flow_green[, 4], na.rm = T),
colSums(flow_green[, 5], na.rm = T),
colSums(flow_green[, 6], na.rm = T)
))
green_total <- as.data.frame("Green Total",
colSums(flow_green[, 2], na.rm = T),
colSums(flow_green[, 3], na.rm = T),
colSums(flow_green[, 4], na.rm = T),
colSums(flow_green[, 5], na.rm = T),
colSums(flow_green[, 6], na.rm = T)
)
View(green_total)
View(green_total)
green_total <- data.frame("Green Total",
colSums(flow_green[, 2], na.rm = T),
colSums(flow_green[, 3], na.rm = T),
colSums(flow_green[, 4], na.rm = T),
colSums(flow_green[, 5], na.rm = T),
colSums(flow_green[, 6], na.rm = T)
)
View(green_total)
red_total <- data.frame("Red Total",
colSums(flow_red[, 2], na.rm = T),
colSums(flow_red[, 3], na.rm = T),
colSums(flow_red[, 4], na.rm = T),
colSums(flow_red[, 5], na.rm = T),
colSums(flow_red[, 6], na.rm = T)
)
flow_green <- df %>%
filter(RedZone == F) %>%
select(-7)
green_total <- data.frame("Green Total",
colSums(flow_green[, 2], na.rm = T),
colSums(flow_green[, 3], na.rm = T),
colSums(flow_green[, 4], na.rm = T),
colSums(flow_green[, 5], na.rm = T),
colSums(flow_green[, 6], na.rm = T)
)
sum_flow <- rbind(red_total, green_total, stringAsFactors = F)
sum_flow <- rbind(red_total, green_total)
sum_flow <- rbind_all(red_total, green_total)
View(green_total)
View(red_total)
sum_flow <- bind_rows(red_total, green_total)
View(sum_flow)
red_total <- data.frame(Ward = "Red Total",
COmpliment = colSums(flow_red[, 2], na.rm = T),
Empty = colSums(flow_red[, 3], na.rm = T),
Electives = colSums(flow_red[, 4], na.rm = T),
DC_Expected = colSums(flow_red[, 5], na.rm = T),
DC_Achieved = colSums(flow_red[, 6], na.rm = T)
)
green_total <- data.frame(Ward = "Green Total",
COmpliment = colSums(flow_green[, 2], na.rm = T),
Empty = colSums(flow_green[, 3], na.rm = T),
Electives = colSums(flow_green[, 4], na.rm = T),
DC_Expected = colSums(flow_green[, 5], na.rm = T),
DC_Achieved = colSums(flow_green[, 6], na.rm = T)
)
total_both <- c("Sum Total",
colSums(sum_flow[, 2]),
colSums(sum_flow[, 3]),
colSums(sum_flow[, 4]),
colSums(sum_flow[, 5]),
colSums(sum_flow[, 6])
)
sum_flow <- bind_rows(red_total, green_total)
sum_flow <- bind_rows(red_total, green_total)
total_both <- data.frame(Ward = "Green Total",
Compliment = colSums(sum_flow[, 2], na.rm = T),
Empty = colSums(sum_flow[, 3], na.rm = T),
Electives = colSums(sum_flow[, 4], na.rm = T),
DC_Expected = colSums(sum_flow[, 5], na.rm = T),
DC_Achieved = colSums(sum_flow[, 6], na.rm = T)
)
sum_flow <- bind_rows(red_total, green_total)
df <- flow_nrc
flow_nrc <- read_excel("COVIDSitRep01.xlsm", sheet = 2, range = "B18:G42", col_names = F)
colnames(flow_nrc) <- c("Ward", "Compliment", "Empty", "Electives", "DC_Expected", "DC_Achieved")
flow_nrc[8, 1] <- "22 Red"
flow_nrc[12, 1] <- "34 Red"
redzones <- c("AU1", "22 Red", "34 Red", "41", "43", "51", "53")
flow_nrc <- flow_nrc %>%
mutate("RedZone" = ifelse(Ward %in% redzones, T, F))
df <- flow_nrc
flow_red <- df %>%
filter(RedZone == T) %>%
select(-7)
red_total <- data.frame(Ward = "Red Total",
Compliment = colSums(flow_red[, 2], na.rm = T),
Empty = colSums(flow_red[, 3], na.rm = T),
Electives = colSums(flow_red[, 4], na.rm = T),
DC_Expected = colSums(flow_red[, 5], na.rm = T),
DC_Achieved = colSums(flow_red[, 6], na.rm = T)
)
flow_nrc$Empty <- as.numeric(flow_nrc$Empty)
flow_red <- df %>%
filter(RedZone == T) %>%
select(-7)
red_total <- data.frame(Ward = "Red Total",
Compliment = colSums(flow_red[, 2], na.rm = T),
Empty = colSums(flow_red[, 3], na.rm = T),
Electives = colSums(flow_red[, 4], na.rm = T),
DC_Expected = colSums(flow_red[, 5], na.rm = T),
DC_Achieved = colSums(flow_red[, 6], na.rm = T)
)
df <- flow_nrc
df$Empty <- as.numeric(df$Empty)
flow_red <- df %>%
filter(RedZone == T) %>%
select(-7)
red_total <- data.frame(Ward = "Red Total",
Compliment = colSums(flow_red[, 2], na.rm = T),
Empty = colSums(flow_red[, 3], na.rm = T),
Electives = colSums(flow_red[, 4], na.rm = T),
DC_Expected = colSums(flow_red[, 5], na.rm = T),
DC_Achieved = colSums(flow_red[, 6], na.rm = T)
)
flow_green <- df %>%
filter(RedZone == F) %>%
select(-7)
green_total <- data.frame(Ward = "Green Total",
Compliment = colSums(flow_green[, 2], na.rm = T),
Empty = colSums(flow_green[, 3], na.rm = T),
Electives = colSums(flow_green[, 4], na.rm = T),
DC_Expected = colSums(flow_green[, 5], na.rm = T),
DC_Achieved = colSums(flow_green[, 6], na.rm = T)
)
sum_flow <- bind_rows(red_total, green_total)
total_both <- data.frame(Ward = "Green Total",
Compliment = colSums(sum_flow[, 2], na.rm = T),
Empty = colSums(sum_flow[, 3], na.rm = T),
Electives = colSums(sum_flow[, 4], na.rm = T),
DC_Expected = colSums(sum_flow[, 5], na.rm = T),
DC_Achieved = colSums(sum_flow[, 6], na.rm = T)
)
colSums(sum_flow[, 2])
sum_flow[,2]
class(sum_flow[,2])
total_both <- data.frame(Ward = "Sum Total",
Compliment = colSums(sum_flow[, 2], na.rm = T),
Empty = colSums(sum_flow[, 3], na.rm = T),
Electives = colSums(sum_flow[, 4], na.rm = T),
DC_Expected = colSums(sum_flow[, 5], na.rm = T),
DC_Achieved = colSums(sum_flow[, 6], na.rm = T)
)
colSums
colSums(sum_flow[[,2]])
colSums(sum_flow[[,2]])
class(sum_flow[,2])
colSums(sum_flow[[,2]])
colSums(sum_flow[, 2])
class(sum_flow)
summarise(sum_flow)
summary(sum_flow)
View(sum_flow)
sum_flow <- rbind(red_total, green_total)
total_both <- data.frame(Ward = "Sum Total",
Compliment = colSums(sum_flow[, 2], na.rm = T),
Empty = colSums(sum_flow[, 3], na.rm = T),
Electives = colSums(sum_flow[, 4], na.rm = T),
DC_Expected = colSums(sum_flow[, 5], na.rm = T),
DC_Achieved = colSums(sum_flow[, 6], na.rm = T)
)
summary(sum_flow)
class(sum_flow)
sum(sum_flow[1,2])
sum(sum_flow[1,2], sum_flow[2,2])
colSums(sum_flow$Compliment)
df <- flow_nrc
df$Empty <- as.numeric(df$Empty)
flow_red <- df %>%
filter(RedZone == T) %>%
select(-7)
red_total <- data.frame(Ward = "Red Total",
Compliment = colSums(flow_red[, 2], na.rm = T),
Empty = colSums(flow_red[, 3], na.rm = T),
Electives = colSums(flow_red[, 4], na.rm = T),
DC_Expected = colSums(flow_red[, 5], na.rm = T),
DC_Achieved = colSums(flow_red[, 6], na.rm = T)
)
flow_green <- df %>%
filter(RedZone == F) %>%
select(-7)
green_total <- data.frame(Ward = "Green Total",
Compliment = colSums(flow_green[, 2], na.rm = T),
Empty = colSums(flow_green[, 3], na.rm = T),
Electives = colSums(flow_green[, 4], na.rm = T),
DC_Expected = colSums(flow_green[, 5], na.rm = T),
DC_Achieved = colSums(flow_green[, 6], na.rm = T)
)
sum_flow <- rbind(red_total, green_total)
total_both <- data.frame(Ward = "Sum Total",
Compliment = colSums(sum_flow[, 2], na.rm = T),
Empty = colSums(sum_flow[, 3], na.rm = T),
Electives = colSums(sum_flow[, 4], na.rm = T),
DC_Expected = colSums(sum_flow[, 5], na.rm = T),
DC_Achieved = colSums(sum_flow[, 6], na.rm = T)
)
total_both <- data.frame(Ward = "Sum Total",
Compliment = colSums(na.rm = T),
Empty = colSums(sum_flow[, 3], na.rm = T),
Electives = colSums(sum_flow[, 4], na.rm = T),
DC_Expected = colSums(sum_flow[, 5], na.rm = T),
DC_Achieved = colSums(sum_flow[, 6], na.rm = T)
)
total_both <- data.frame(Ward = "Sum Total",
Compliment = colSums(sum_flow$Compliment, na.rm = T),
Empty = colSums(sum_flow[, 3], na.rm = T),
Electives = colSums(sum_flow[, 4], na.rm = T),
DC_Expected = colSums(sum_flow[, 5], na.rm = T),
DC_Achieved = colSums(sum_flow[, 6], na.rm = T)
)
total_both <- data.frame(Ward = "Sum Total",
Compliment = colSums(sum_flow$Compliment),
Empty = colSums(sum_flow[, 3], na.rm = T),
Electives = colSums(sum_flow[, 4], na.rm = T),
DC_Expected = colSums(sum_flow[, 5], na.rm = T),
DC_Achieved = colSums(sum_flow[, 6], na.rm = T)
)
total_both <- data.frame(Ward = "Sum Total",
Compliment = sum(sum_flow[1:2, 2]),
Empty = colSums(sum_flow[, 3], na.rm = T),
Electives = colSums(sum_flow[, 4], na.rm = T),
DC_Expected = colSums(sum_flow[, 5], na.rm = T),
DC_Achieved = colSums(sum_flow[, 6], na.rm = T)
)
total_both <- data.frame(Ward = "Sum Total",
Compliment = sum(sum_flow[1:2, 2]),
Empty = sum(sum_flow[1:2, 3]),
Electives = sum(sum_flow[1:2, 4]),
DC_Expected = sum(sum_flow[1:2, 5]),
DC_Achieved = sum(sum_flow[1:2, 6])
)
sum_flow <- rbind(sum_flow, total_both)
runApp()
runApp()
runApp()
runApp()
trauma_list <- read_excel("COVIDSitRep01.xlsm", sheet = 2, range = "B44:E44", col_names = F)
trauma_list <- trauma_list[, -2]
View(df)
runApp()
wac_nrc <- read_excel("COVIDSitRep01.xlsm", sheet = 2, range = "B49:G59", col_names = F)
runApp()
runApp()
runApp()
?column_spec
runApp()
runApp()
runApp()
runApp()
au1_nrc <- read_excel("COVIDSitRep01.xlsm", sheet = 2, range = "I36:M36", col_names = F)
au2_nrc <- read_excel("COVIDSitRep01.xlsm", sheet = 2, range = "I43:M43", col_names = F)
au_nrc <- rbind(au1_nrc, au2_nrc) %>%
mutate("Ward" = c("AU 1", "AU2"))
au_nrc <- au_nrc[, c(6, 1:5)]
colnames(au_nrc) <- c("Ward", "Patients", "Required", "DC", "Ongoing", "GPTCI")
View(au_nrc)
runApp()
runApp()
runApp()
runApp()
runApp()
critcare_nrc <- read_excel("COVIDSitRep01.xlsm", sheet = 2, range = "I25:N30", col_names = F)
colnames(critcare_nrc) <- c("Ward", "Empty", "Fit", "Admissions", "Discharges", "Compliment")
cc_wards <- c("ITU Red", "ITU Green", "SHDU Green", "MHDU Red", "RHDU", "CCU/MHDU Green")
critcare_nrc[, 1] <- cc_wards
red_cc <- c("ITU Red", "MHDU Red")
critcare_nrc <- critcare_nrc %>%
mutate("Red Zone" = ifelse(Ward %in% red_cc, T, F))
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
critcare_nrc <- read_excel("COVIDSitRep01.xlsm", sheet = 2, range = "I25:N30", col_names = F)
colnames(critcare_nrc) <- c("Ward", "Empty", "Fit", "Admissions", "Discharges", "Compliment")
cc_wards <- c("ITU Red", "ITU Green", "SHDU Green", "MHDU Red", "RHDU", "CCU/MHDU Green")
critcare_nrc[, 1] <- cc_wards
red_cc <- c("ITU Red", "MHDU Red")
View(critcare_nrc)
kable(critcare_nrc)
runApp()
print.kable(critcare_nrc)
print(kable(critcare_nrc))
view(kable(critcare_nrc))
runApp()
runApp()
runApp()
runApp('~/R_Projects/preop_drugs_app/PreopDrugs-master')
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
